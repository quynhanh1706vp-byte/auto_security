/* VSP_P1_DATA_SOURCE_LAZY_SHIM_V1
   - This file exists to prevent MIME-type JSON execution block.
   - It loads the real Data Source JS modules if present.
*/
(()=>{
  try {
    const ver = String(Date.now());
    const targets = ['vsp_data_source_tab_v3.js', 'vsp_data_source_tab_v2.js'];
    const load = (src)=> new Promise((res)=>{
      const s=document.createElement('script');
      s.src='/static/js/'+src + (src.includes('?') ? '' : ('?v='+ver));
      s.async=true;
      s.onload=()=>res(true);
      s.onerror=()=>res(false);
      document.head.appendChild(s);
    });
    (async()=>{
      for(const t of targets) {
        try { await load(t); } catch(e){}
      }
      try { console.log("[DataSourceLazyShimV1] loaded:", targets.join(", ")); } catch(e){}
    })();
  } catch(e){}
})();
